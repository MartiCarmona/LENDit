<div class="product-show-container">
  <div class="borrow-category">
    <h1>Borrow Requests</h1>

    <div class="pending-borrow">
      <h2>Pending Borrows</h2>
      <% @pending_borrow_requests.each do |booking| %>
        <div class="booking-item">
          <% product = booking.product %>
          <div class="product-info">
            <%= link_to product_path(product) do %>
              <%= image_tag(product.image.url, class: "product-image") if product.image.present? %>
            <% end %>
            <p>Product: <%= link_to product.title, product_path(product) %></p>
          </div>
          <p>Status: <%= booking.status.capitalize %></p>
          <p>Start Date: <%= booking.start_date %></p>
          <p>End Date: <%= booking.end_date %></p>
          <%= button_to 'Cancel Request', cancel_booking_path(booking), method: :delete, data: { confirm: 'Are you sure you want to cancel this booking request?' }, class: 'btn btn-outline-warning' %>
        </div>
      <% end %>
    </div>
  </div>
  <div class="borrow-category">
    <h2>Accepted Borrows</h2>
    <% @accepted_borrow_requests.each do |booking| %>
      <div class="booking-item">
        <p>Product: <%= link_to booking.product.title, product_path(booking.product) %></p>
        <p>Status: <%= booking.status.capitalize %></p>
        <p>Start Date: <%= booking.start_date %></p>
        <p>End Date: <%= booking.end_date %></p>
        <%= link_to 'View Details', booking_path(booking) %>
      </div>
    <% end %>
  </div>

  <div class="borrow-category">
    <h2>Ongoing Borrows</h2>
    <% @ongoing_borrow_requests.each do |booking| %>
      <div class="booking-item">
        <p>Product: <%= link_to booking.product.title, product_path(booking.product) %></p>
        <p>Status: <%= booking.status.capitalize %></p>
        <p>Start Date: <%= booking.start_date %></p>
        <p>End Date: <%= booking.end_date %></p>
        <%= link_to 'View Details', booking_path(booking) %>
      </div>
    <% end %>
  </div>

  <div class="borrow-category">
    <h2>Finished Requests</h2>
    <% @finished_borrow_requests.each do |booking| %>
      <div class="booking-item">
        <p>Product: <%= link_to booking.product.title, product_path(booking.product) %></p>
        <p>Status: <%= booking.status.capitalize %></p>
        <p>Start Date: <%= booking.start_date %></p>
        <p>End Date: <%= booking.end_date %></p>
        <%= link_to 'View Details', booking_path(booking) %>
      </div>
    <% end %>
  </div>
</div>
